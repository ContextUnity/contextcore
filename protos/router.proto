syntax = "proto3";

package contextrouter;

import "context_unit.proto";

// =====================================================
// Router Service - AI Agent Orchestration
// =====================================================
// All methods use ContextUnit as input/output.
// Agent identification and input is passed via payload.
// =====================================================

service RouterService {
    // Execute a single turn of an agent
    // Request payload: {tenant_id, agent_id, input_text, context?: {...}}
    // Response payload: {output_text, tool_calls?: {...}, metadata?: {...}}
    rpc ExecuteAgent(contextcore.ContextUnit) returns (contextcore.ContextUnit);
    
    // Stream agent execution (for UI with real-time output)
    // Request payload: {tenant_id, agent_id, input_text, context?: {...}}
    // Response payload: {output_text, tool_calls?: {...}, metadata?: {...}}
    rpc StreamAgent(contextcore.ContextUnit) returns (stream contextcore.ContextUnit);
}
