syntax = "proto3";

package contextrouter;

message AgentRequest {
    string tenant_id = 1;
    string agent_id = 2; // "gardener", "matcher", "chat"
    string input_text = 3;
    map<string, string> context = 4;
}

message AgentResponse {
    string output_text = 1;
    map<string, string> tool_calls = 2;
    map<string, string> metadata = 3;
}

service RouterService {
    // Execute a single turn of an agent
    rpc ExecuteAgent(AgentRequest) returns (AgentResponse);
    
    // Stream agent execution (for UI)
    rpc StreamAgent(AgentRequest) returns (stream AgentResponse);
}
